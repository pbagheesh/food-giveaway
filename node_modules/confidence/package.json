{
  "_args": [
    [
      {
        "raw": "confidence@3.x.x",
        "scope": null,
        "escapedName": "confidence",
        "name": "confidence",
        "rawSpec": "3.x.x",
        "spec": ">=3.0.0 <4.0.0",
        "type": "range"
      },
      "/Users/prashant/Documents/Projects/pal/boilerplate-api"
    ]
  ],
  "_from": "confidence@>=3.0.0 <4.0.0",
  "_id": "confidence@3.0.2",
  "_inCache": true,
  "_location": "/confidence",
  "_nodeVersion": "6.6.0",
  "_npmOperationalInternal": {
    "host": "packages-16-east.internal.npmjs.com",
    "tmp": "tmp/confidence-3.0.2.tgz_1475798679265_0.42620408930815756"
  },
  "_npmUser": {
    "name": "patrickkettner",
    "email": "patrickkettner@gmail.com"
  },
  "_npmVersion": "3.10.8",
  "_phantomChildren": {
    "hoek": "4.1.1"
  },
  "_requested": {
    "raw": "confidence@3.x.x",
    "scope": null,
    "escapedName": "confidence",
    "name": "confidence",
    "rawSpec": "3.x.x",
    "spec": ">=3.0.0 <4.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "#DEV:/"
  ],
  "_resolved": "https://registry.npmjs.org/confidence/-/confidence-3.0.2.tgz",
  "_shasum": "d1cd29994e3b7bc3f69300f87f5bc265c5335e50",
  "_shrinkwrap": null,
  "_spec": "confidence@3.x.x",
  "_where": "/Users/prashant/Documents/Projects/pal/boilerplate-api",
  "bin": {
    "confidence": "bin/confidence"
  },
  "bugs": {
    "url": "https://github.com/hapijs/confidence/issues"
  },
  "dependencies": {
    "alce": "1.x.x",
    "boom": "3.x.x",
    "hoek": "4.x.x",
    "yargs": "4.x.x"
  },
  "description": "Configuration API",
  "devDependencies": {
    "code": "3.x.x",
    "lab": "10.x.x"
  },
  "directories": {},
  "dist": {
    "shasum": "d1cd29994e3b7bc3f69300f87f5bc265c5335e50",
    "tarball": "https://registry.npmjs.org/confidence/-/confidence-3.0.2.tgz"
  },
  "engines": {
    "node": ">=4.0.0"
  },
  "gitHead": "349f34cd4fbf23a1dd2e272df12fa75dcf794cf7",
  "homepage": "https://github.com/hapijs/confidence#readme",
  "keywords": [
    "hapi",
    "plugin",
    "configuration",
    "api"
  ],
  "licenses": [
    {
      "type": "BSD",
      "url": "http://github.com/hapijs/confidence/raw/master/LICENSE"
    }
  ],
  "main": "lib/index.js",
  "maintainers": [
    {
      "name": "hueniverse",
      "email": "eran@hueniverse.com"
    },
    {
      "name": "wyatt",
      "email": "wpreul@gmail.com"
    },
    {
      "name": "kpdecker",
      "email": "kpdecker@gmail.com"
    },
    {
      "name": "patrickkettner",
      "email": "patrickkettner@gmail.com"
    }
  ],
  "name": "confidence",
  "optionalDependencies": {},
  "readme": "![confidence Logo](https://raw.github.com/spumko/con/master/images/confidence.png)\n\n**Confidence** is a configuration document format, an API, and a foundation for A/B testing. The configuration format is designed to\nwork with any existing JSON-based configuration, serving values based on object path (`'/a/b/c'` translates to ``a.b.c``). In addition,\n**confidence** defines special $-prefixed keys used to filter values for a given criteria.\n\n[![Build Status](https://travis-ci.org/hapijs/confidence.svg?branch=master)](https://travis-ci.org/hapijs/confidence)\n\nLead Maintainer: [Patrick Kettner](https://github.com/patrickkettner)\n\n- [Example](#example)\n- [Document Format](#document-format)\n    - [Basic Structure](#basic-structure)\n    - [Filters](#filters)\n    - [Ranges](#ranges)\n    - [Metadata](#metadata)\n- [API](#api)\n\n# Example\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": {\n        \"$filter\": \"env\",\n        \"production\": {\n            \"deeper\": {\n                \"$value\": \"value\"\n            }\n        },\n        \"$default\": {\n            \"$filter\": \"platform\",\n            \"android\": 0,\n            \"ios\": 1,\n            \"$default\": 2\n        }\n    },\n    \"key3\": {\n        \"sub1\": 123,\n        \"sub2\": {\n            \"$filter\": \"xfactor\",\n            \"yes\": 6\n        }\n    },\n    \"ab\": {\n        \"$filter\": \"random.a\",\n        \"$range\": [\n            { \"limit\": 10, \"value\": 4 },\n            { \"limit\": 20, \"value\": 5 }\n        ],\n        \"$default\": 6\n    },\n    \"$meta\": {\n        \"description\": \"example file\"\n    }\n}\n```\n\nWithout any criteria applied, the above configuration document will result in the following:\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": 2,\n    \"key3\": {\n        \"sub1\": 123\n    },\n    \"ab\": 6\n}\n```\n\nWith the following criteria applied:\n\n```json\n{\n    \"env\": \"production\",\n    \"platform\": \"ios\",\n    \"xfactor\": \"yes\",\n    \"random\": {\n        \"a\": 15\n    }\n}\n```\n\nThe result is:\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": {\n        \"deeper\": \"value\"\n    },\n    \"key3\": {\n        \"sub1\": 123,\n        \"sub2\": 6\n    },\n    \"ab\": 5\n}\n```\n\n# Document Format\n\n**Confidence** builds on top of a Javascript object as its document.\n\n### Basic structure\n\nThe configuration document starts with a simple object. Key names can only contain alphanumeric characters and '_' with the '$' prefix reserved\nfor special directives. Values can contain any non-object value (e.g. strings, numbers, booleans) as well as arrays.\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": 2\n}\n```\n\nKeys can have children:\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": 2,\n    \"key3\": {\n        \"sub1\": 123\n    }\n}\n```\n\n### Filters\n\nA key can have multiple values based on a filter. The filter is a key provided in a criteria object at the time of retrieval. Filter names can only\ncontain alphanumeric characters and '_'.\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": {\n        \"$filter\": \"env\",\n        \"production\": 1\n    }\n}\n```\n\nWhen asking for `'/key2'`, if no criteria set is provided or the criteria set does not include a value for the `'env'` filter, no value is available. Only when a criteria\nset with a key `'env'` and value `'production'` is provided, the value returned is `1`.\n\nFilters can point to a nested value using '.' seperated tokens for accessing child values within the criteria object.\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": {\n        \"$filter\": \"system.env\",\n        \"production\": 1\n    }\n}\n```\n\nFilters can have a default value which will be used if the provided criteria set does not include a value for the filter or if the value does not match.\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": {\n        \"$filter\": \"system.env\",\n        \"production\": 1,\n        \"$default\": 2\n    }\n}\n```\n\n### Ranges\n\nRanges provide a way to filter a value based on numerical buckets. The criteria value must be an integer and be matched against the lowest bucket limit it can fit.\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": {\n        \"$filter\": \"system.env\",\n        \"production\": 1,\n        \"$default\": 2\n    },\n    \"key3\": {\n        \"$filter\": \"random.a\",\n        \"$range\": [\n            { \"limit\": 10, \"value\": 4 },\n            { \"limit\": 20, \"value\": 5 }\n        ],\n        \"$default\": 6\n    }\n}\n```\n\nIf the criteria includes a value for `random.a`, that value is matched against the sorted range entries. The criterion value will match the entry with lowest limit it\nis still less than or equal the limit of. For example, a criterion value of `5` will return a key value for `'/key3'` of `4`. A criterion value of `15` will return a\nkey value for `'/key3'` of `5`, and a criterion value of `50` will return a key value for `'/key3'` of `6`.\n\n### Metadata\n\nThe configuration file can be annotated with metadata that is ignored (and removed) by the parser. Metadata is useful for human readable information as well as to\nenable other tools such as configuration editors and validators, going beyond the basic parsing specified here.\n\n```json\n{\n    \"key1\": \"abc\",\n    \"key2\": {\n        \"$filter\": \"system.env\",\n        \"production\": 1,\n        \"$default\": 2\n    },\n    \"key3\": {\n        \"$filter\": \"random.a\",\n        \"$range\": [\n            { \"limit\": 10, \"value\": 4 },\n            { \"limit\": 20, \"value\": 5 }\n        ],\n        \"$default\": 6\n    },\n    \"$meta\": {\n        \"anything\": \"really\"\n    }\n}\n```\n\nTo annotate non object values, any value can be wrapped in an object and provided using the `$value` directive.\n\n```json\n{\n    \"key1\": {\n        \"$value\": \"abc\",\n        \"$meta\": \"whatever\"\n    },\n    \"key2\": {\n        \"$filter\": \"system.env\",\n        \"production\": 1,\n        \"$default\": 2\n    },\n    \"key3\": {\n        \"$filter\": \"random.a\",\n        \"$range\": [\n            { \"limit\": 10, \"value\": 4 },\n            { \"limit\": 20, \"value\": 5 }\n        ],\n        \"$default\": 6\n    },\n    \"$meta\": {\n        \"anything\": \"really\"\n    }\n}\n```\n\n### Shared values\n\nIf you have values that you would like to share between various configuration objects without duplicating them for each option, you can create a `$base` object.\n\n```json\n{\n  \"$filter\": \"env\",\n  \"$base\": {\n      \"logLocation\": \"/logs\"\n  },\n  \"production\":  {\n      \"logLevel\": \"error\"\n  },\n  \"qa\":  {\n      \"logLevel\": \"info\",\n      \"logLocation\": \"/qa/logs\"\n  },\n  \"staging\":  {\n      \"logLevel\": \"debug\"\n  }\n}\n```\n\nWhen requesting the **key** `/` with:\n\n* **criteria** of `{ \"env\" : \"production\" }`\n* Result will be:\n\n```json\n{\n\t\"logLevel\": \"error\",\n\t\"logLocation\": \"/logs\"\n}\n```\n\nHowever when requesting the **key** `/` with:\n\n* **criteria** of `{ \"env\" : \"staging\" }`\n* Result will be:\n\n```json\n{\n\t\"logLevel\": \"debug\",\n\t\"logLocation\": \"/logs\"\n}\n```\n\nIf the same key occurs in `$base` and the `filtered value` then value in `$base` will be overridden.\n\nIn the above sample, when requesting the **key** `/` with:\n\n* **criteria** of `{ \"env\": \"qa\" }`\n\n* Result will be:\n\n\n```json\n{\n\t\"logLevel\": \"info\",\n\t\"logLocation\": \"/qa/logs\"\n}\n```\n\n# API\n\n## Confidence.Store\n\nThe configuration parser used to load the configuration document and apply criteria to get values based on keys.\n\n### new Store([document])\n\nCreates an empty configuration storage container where:\n\n- `document` - an optional object containing a **confidence** configuration object generated from a parsed JSON document.\n  If the document is invalid, will throw an error. Defaults to `{}`.\n\n```javascript\nvar Confidence = require('confidence');\n\nvar store = new Confidence.Store();\n```\n\n### store.load(document)\n\nValidates the provided configuration, clears any existing configuration, then loads the configuration where:\n\n- `document` - an object containing a **confidence** configuration object generated from a parsed JSON document.\n  If the document is invlaid, will throw an error.\n\n```javascript\nvar document = {\n    a: 1,\n    b: 2,\n    c: {\n        $filter: 'size',\n        big: 100,\n        small: 1,\n        $default: 50\n    }\n};\n\nstore.load(document);\n```\n\n### store.get(key, [criteria])\n\nRetrieves a value from the configuration document after applying the provided criteria where:\n\n- `key` - the requested key path. All keys must begin with '/'. '/' returns the the entire document.\n- `criteria` - optional object used as criteria for applying filters in the configuration document. Defaults to `{}`.\n\nReturns the value found after applying the criteria. If the key is invalid or not found, returns undefined.\n\n```javascript\nvar value = store.get('/c', { size: 'big' });\n```\n\n### store.meta(key, [criteria])\n\nRetrieves the metadata (if any) from the configuration document after applying the provided criteria where:\n\n- `key` - the requested key path. All keys must begin with '/'. '/' returns the the entire document.\n- `criteria` - optional object used as criteria for applying filters in the configuration document. Defaults to `{}`.\n\nReturns the metadata found after applying the criteria. If the key is invalid or not found, or if no metadata is available, returns undefined.\n\n```javascript\nvar value = store.meta('/c', { size: 'big' });\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/hapijs/confidence.git"
  },
  "scripts": {
    "test": "lab -r console -t 100 -a code -L",
    "test-cov-html": "lab -r html -o coverage.html -a code -L"
  },
  "version": "3.0.2"
}
